<div class="add-faq-container">
  <div class="header">
    <button class="back-button" (click)="goBack()">
      ← Retour
    </button>
    <h1 class="page-title">{{ pageTitle }}</h1>
  </div>

  <div class="form-wrapper">
    <form [formGroup]="faqForm" (ngSubmit)="onSubmit()" class="faq-form">

      <!-- Champ Question -->
      <div class="form-field">
        <input type="text" id="question" formControlName="question" placeholder="Question" class="form-input"
          [class.error]="getFieldError('question')" />
        <div *ngIf="getFieldError('question')" class="error-message">
          {{ getFieldError('question') }}
        </div>
      </div>

      <!-- Champ Procédé avec éditeur Quill -->
      <div class="form-field">
        <div #editor class="quill-editor" [class.error]="getFieldError('procede')"></div>
        <div *ngIf="getFieldError('procede')" class="error-message">
          {{ getFieldError('procede') }}
        </div>
      </div>

      <!-- Messages de statut -->
      <div *ngIf="successMessage" class="success-message">
        {{ successMessage }}
      </div>

      <div *ngIf="errorMessage" class="error-alert">
        {{ errorMessage }}
      </div>

      <!-- Bouton de soumission -->
      <div class="form-actions">
        <button type="submit" class="submit-button" [disabled]="!faqForm.valid || isLoading">
          <span *ngIf="isLoading && !isEditMode">Ajout en cours...</span>
          <span *ngIf="isLoading && isEditMode">Modification en cours...</span>
          <span *ngIf="!isLoading && !isEditMode">Valider</span>
          <span *ngIf="!isLoading && isEditMode">Modifier</span>
        </button>
      </div>

    </form>
  </div>
</div>